<!DOCTYPE html>
<html>
<head>
	
	<!-- Style.css -->
	<link rel="stylesheet" href="style.css">

	<!-- Bootstrap - Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	<!-- jQuery -->
	<script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>

	<!-- Chosen jQuery Plugin -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.js"></script>

	<!-- Chosen CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">

	<!-- Bootstrap - Latest compiled and minified JS -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

	<title>Friendr | Start here.</title>

</head>
<body>
	<div class="container">
		<div class="jumbotron">
			<div class="container">
				<h1>Friendr | Survey</h1>
				<p>Answer a few questions, and we'll let you know who your real friend is.</p>
				<p>
					<a class="btn btn-default btn-lg"><span class="glyphicon glyphicon-home" aria-hidden="true"></span></a>
				</p>
			</div>
		</div>

		<div class="row">
			<h1>All About You!</h1>

			<h4>Name (required)</h4>
			<input type="name" class="form-control" id="name" placeholder="John Smith">		
			<h4>Link to Your Photo (required)</h4>
			<input type="name" class="form-control" id="photo" placeholder="http://www.instagram.com">		
		</div>

		<!-- 10 questions -->

		<div class="row">
			<h1>Question 1</h1>
			<h4>My ideal Saturday night is at home, curled up with a hot cup of tea and a good book.</h4>
			<div class="dropdown">
				<select class="chosen-select" data-placeholder="Select your answer here" id="q1">
					<option value></option>
					<option value="1">1 (Strongly Disagree) </option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree) </option>
				</select>
				<div id="result"></div>
			</div>
		</div>

		<div class="row">
			<h1>Question 2</h1>
			<h4>I tend to make my decisions based on my gut, instead of my brain.</h4>
			<div class="dropdown">
				<select class="chosen-select" data-placeholder="Select your answer here" id="q2">
					<option value></option>
					<option value="1">1 (Strongly Disagree) </option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree) </option>
				</select>
				<div id="result"></div>
			</div>	
		</div>

		<div class="row">
			<h1>Question 3</h1>
			<h4>I find myself most awake when surrounded by a group of people.</h4>
			<div class="dropdown">
				<select class="chosen-select" data-placeholder="Select your answer here" id="q3">
					<option value></option>
					<option value="1">1 (Strongly Disagree) </option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree) </option>
				</select>
				<div id="result"></div>
			</div>	
		</div>

		<div class="row">
			<h1>Question 4</h1>
			<h4>I am generally buzzing with energy.</h4>
			<div class="dropdown">
				<select class="chosen-select" data-placeholder="Select your answer here" id="q4">
					<option value></option>
					<option value="1">1 (Strongly Disagree) </option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree) </option>
				</select>
				<div id="result"></div>
			</div>	
		</div>

		<div class="row">
			<h1>Question 5</h1>
			<h4>I cannot stand a messy room. I require order and cleanliness.</h4>
			<div class="dropdown">
				<select class="chosen-select" data-placeholder="Select your answer here" id="q5">
					<option value></option>
					<option value="1">1 (Strongly Disagree) </option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree) </option>
				</select>
				<div id="result"></div>
			</div>	
		</div>

		<div class="row">
			<h1>Question 6</h1>
			<h4>It is okay to bend the truth if it hurts someone dear to me.</h4>
			<div class="dropdown">
				<select class="chosen-select" data-placeholder="Select your answer here" id="q6">
					<option value></option>
					<option value="1">1 (Strongly Disagree) </option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree) </option>
				</select>
				<div id="result"></div>
			</div>	
		</div>

		<div class="row">
			<h1>Question 7</h1>
			<h4>I am like a stone. I remain cool and collected, even under undue amounts of stress.</h4>
			<div class="dropdown">
				<select class="chosen-select" data-placeholder="Select your answer here" id="q7">
					<option value></option>
					<option value="1">1 (Strongly Disagree) </option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree) </option>
				</select>
				<div id="result"></div>
			</div>	
		</div>

		<div class="row">
			<h1>Question 8</h1>
			<h4>I make future decisions based on what has been proven to work in the past.</h4>
			<div class="dropdown">
				<select class="chosen-select" data-placeholder="Select your answer here" id="q8">
					<option value></option>
					<option value="1">1 (Strongly Disagree) </option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree) </option>
				</select>
				<div id="result"></div>
			</div>	
		</div>

		<div class="row">
			<h1>Question 9</h1>
			<h4>I am easily bothered by others.</h4>
			<div class="dropdown">
				<select class="chosen-select" data-placeholder="Select your answer here" id="q9">
					<option value></option>
					<option value="1">1 (Strongly Disagree) </option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree) </option>
				</select>
				<div id="result"></div>
			</div>	
		</div>

		<div class="row">
			<h1>Question 10</h1>
			<h4>My brain is always humming, producing new ideas.</h4>
			<div class="dropdown">
				<select class="chosen-select" data-placeholder="Select your answer here" id="q10">
					<option value></option>
					<option value="1">1 (Strongly Disagree) </option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree) </option>
				</select>
				<div id="result"></div>
			</div>	
		</div>

		<div class="row">
			<button type="button" class="btn btn-primary btn-lg form-control" data-toggle="modal" data-target="#myModal" id="submission"><span class="glyphicon glyphicon-ok"> Submit</button>

			<!-- Modal -->
			<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
				<div class="modal-dialog" role="document">
			    <div class="modal-content">
			    	<div class="modal-header">
			        	<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			        	<h4 class="modal-title" id="myModalLabel"></h4>
			      	</div>
			      	<div class="modal-body"></div>
			      	<div class="modal-footer">
			        	<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			      	</div>
			    </div>
			  	</div>
			</div>
		</div>

		<div>
			<hr>
			<a href="">Friendr API</a>
			<a> | </a>
			<a href="https://github.com/ltdelia/Friendr">Github Repo</a>
		</div>
	</div>

<script type="text/javascript">

	// Chosen dropdowns
	$('.chosen-select').chosen();

	// get the current location window.location.origin
	var currentURL = window.location.origin;

	// Button click event
	$('#submission').on('click', function(){
		// create a new object, grabbing the values of the survey
		var scoreArray = [];
		var friendData = {
			name: $('#name').val().trim(),
			photo: $('#photo').val().trim(),
			scores: scoreArray
		}
		for (var i=1; i<=10; i++){
			var score =	Number($('#q'+i).val().trim());
			scoreArray.push(score);
		}

		// post the submission to the Friendr API
		$.post(currentURL+'/api/friends', friendData,
			function(response){
				console.log(response);
		});
	return false;
	})

	$.ajax({url:currentURL+'/api/friends', method:'GET'})
		.done(function(friend){
			var name = friend.name;
			var photohref = friend.photo;
			$('.modal-header').append("Your best match is: " + name);
			$('.modal-body').append('<img src='+photohref+'</img>');
		})
</script>
</body>
</html>